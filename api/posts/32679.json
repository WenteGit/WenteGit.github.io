{"title":"sql-optimize","slug":"sql-optimize","date":"2023-03-27","updated":"2023-06-29","comments":true,"path":"api/posts/32679.json","excerpt":"<blockquote><p> 关于 SQL 优化的相关信息，顺便包括了 SqlYog 的破解流程 </p></blockquote>","cover":null,"covers":null,"content":"<blockquote>\n<p>关于 SQL 优化的相关信息，顺便包括了 SqlYog 的破解流程</p>\n</blockquote>\n<span id=\"more\"></span>\n<h1 id=\"基础 Sql 优化\"><a href=\"# 基础 Sql 优化\" class=\"headerlink\" title=\"基础 Sql 优化\"></a>基础 Sql 优化</h1><ul>\n<li>查询 SQL 尽量不要使用 select *，而是具体字段</li>\n<li>避免在 where 子句中使用 or 来连接条件</li>\n<li>使用 varchar 代替 char</li>\n<li>尽量使用数值替代字符串类型</li>\n<li>查询尽量避免返回大量数据</li>\n<li>使用 explain 分析你 SQL 执行计划</li>\n<li>是否使用了索引及其扫描类型</li>\n<li>创建 name 字段的索引</li>\n<li>优化 like 语句</li>\n<li>字符串怪现象</li>\n<li>索引不宜太多，一般 5 个以内</li>\n<li>索引不适合建在有大量重复数据的字段上</li>\n<li>where 限定查询的数据</li>\n<li>避免在索引列上使用内置函数</li>\n<li>避免在 where 中对字段进行表达式操作</li>\n<li>避免在 where 子句中使用!= 或 &lt;&gt; 操作符</li>\n<li>去重 distinct 过滤字段要少</li>\n<li>where 中使用默认值代替 null</li>\n</ul>\n<h1 id=\"高级 SQL 优化\"><a href=\"# 高级 SQL 优化\" class=\"headerlink\" title=\"高级 SQL 优化\"></a>高级 SQL 优化</h1><ul>\n<li>批量插入性能提升</li>\n<li>批量删除优化</li>\n<li>伪删除设计</li>\n<li>提高 group by 语句的效率</li>\n<li>复合索引最左特性</li>\n<li>排序字段创建索引</li>\n<li>删除冗余和重复的索引</li>\n<li>不要有超过 5 个以上的表连接</li>\n<li>inner join 、left join、right join，优先使用 inner join</li>\n<li>in 子查询的优化</li>\n<li>尽量使用 union all 替代 union</li>\n</ul>\n<h1 id=\"Expain 解析\"><a href=\"#Expain 解析\" class=\"headerlink\" title=\"Expain 解析\"></a>Expain 解析 </h1><h2 id=\"重点字段\"><a href=\"# 重点字段\" class=\"headerlink\" title=\"重点字段\"></a> 重点字段</h2><blockquote>\n<p>possible_keys、key、Extra、type</p>\n</blockquote>\n<h2 id=\"type 字段\"><a href=\"#type 字段\" class=\"headerlink\" title=\"type 字段\"></a>type 字段</h2><blockquote>\n<p>system &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; all</p>\n</blockquote>\n<h2 id=\"Extra\"><a href=\"#Extra\" class=\"headerlink\" title=\"Extra\"></a>Extra</h2><ul>\n<li>Using index：使用覆盖索引（如果 select 后面查询的字段都可以从这个索引的树中获取，不需要通过辅助索引树找到主键，再通过主键去主键索引树里获取其它字段值，这种情况一般可以说是用到了覆盖索引）。</li>\n<li>Using where：使用 where 语句来处理结果，并且查询的列未被索引覆盖。</li>\n<li>Using index condition：查询的列不完全被索引覆盖，where 条件中是一个查询的范围。</li>\n<li>Using temporary：MySQL 需要创建一张临时表来处理查询。出现这种情况一般是要进行优化的。</li>\n<li>Using filesort：将使用外部排序而不是索引排序，数据较小时从内存排序，否则需要在磁盘完成排序。</li>\n<li>Select tables optimized away：使用某些聚合函数（比如 max、min）来访问存在索引的某个字段时。</li>\n</ul>\n<h1 id=\"Sqlyog 的破解流程\"><a href=\"#Sqlyog 的破解流程\" class=\"headerlink\" title=\"Sqlyog 的破解流程\"></a>Sqlyog 的破解流程 </h1><h2 id=\"路径 -（注册表编辑器 regedit）\"><a href=\"# 路径 -（注册表编辑器 regedit）\" class=\"headerlink\" title=\"路径 （注册表编辑器 regedit）\"></a> 路径 （注册表编辑器 regedit）</h2><blockquote>\n<p>计算机 \\HKEY_CURRENT_USER\\SOFTWARE{d58cb4b1-47f3-45cb-a209-f298d0c3f756}</p>\n</blockquote>\n<h2 id=\"路径变量\"><a href=\"# 路径变量\" class=\"headerlink\" title=\"路径变量\"></a>路径变量</h2><blockquote>\n<p>InD110</p>\n</blockquote>\n<h2 id=\"修改方案\"><a href=\"# 修改方案\" class=\"headerlink\" title=\"修改方案\"></a>修改方案</h2><blockquote>\n<ul>\n<li>直接删除 InD110 这个变量，即可重置为 14 天</li>\n<li>将 10 进制数值修改为 2460107，即可重置为 14 天</li>\n</ul>\n</blockquote>\n","url":"/posts/32679/","min2read":2,"word4post":656,"prev_post":{"title":"BigData-Spark","url":"/posts/51645/"},"next_post":{"title":"Interview","url":"/posts/41865/"},"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"基础 Sql 优化\" href = \"#\"><span class=\"toc-number\">1.</span> <span class=\"toc-text\">基础 Sql 优化</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"高级 SQL 优化\" href = \"#\"><span class=\"toc-number\">2.</span> <span class=\"toc-text\">高级 SQL 优化</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"Expain 解析\" href = \"#\"><span class=\"toc-number\">3.</span> <span class=\"toc-text\">Expain 解析 </span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"重点字段\" href = \"#\"><span class=\"toc-number\">3.1.</span> <span class=\"toc-text\"> 重点字段</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"type 字段\" href = \"#\"><span class=\"toc-number\">3.2.</span> <span class=\"toc-text\">type 字段</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"Extra\" href = \"#\"><span class=\"toc-number\">3.3.</span> <span class=\"toc-text\">Extra</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"Sqlyog 的破解流程\" href = \"#\"><span class=\"toc-number\">4.</span> <span class=\"toc-text\">Sqlyog 的破解流程 </span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"路径 -（注册表编辑器 regedit）\" href = \"#\"><span class=\"toc-number\">4.1.</span> <span class=\"toc-text\"> 路径 （注册表编辑器 regedit）</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"路径变量\" href = \"#\"><span class=\"toc-number\">4.2.</span> <span class=\"toc-text\">路径变量</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"修改方案\" href = \"#\"><span class=\"toc-number\">4.3.</span> <span class=\"toc-text\">修改方案</span></a></li></ol></li></ol>","categories":[],"tags":[]}