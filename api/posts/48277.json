{"title":"MySQL-CRUD","slug":"mysql-CRUD","date":"2023-02-25","updated":"2023-02-25","comments":true,"path":"api/posts/48277.json","excerpt":"<blockquote><p> 介绍了 MySQL 中对于 CRUD 的基本操作 </p></blockquote>","cover":null,"covers":null,"content":"<blockquote>\n<p>介绍了 MySQL 中对于 CRUD 的基本操作</p>\n</blockquote>\n<span id=\"more\"></span>\n<h1 id=\"Create- 新建\"><a href=\"#Create- 新建\" class=\"headerlink\" title=\"Create(新建)\"></a>Create(新建)</h1><h2 id=\"创建表的时候添加限制\"><a href=\"# 创建表的时候添加限制\" class=\"headerlink\" title=\"创建表的时候添加限制\"></a>创建表的时候添加限制</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> test(</span><br><span class=\"line\">id <span class=\"type\">INT</span>,</span><br><span class=\"line\">hcode <span class=\"type\">INT</span>,</span><br><span class=\"line\"><span class=\"keyword\">CONSTRAINT</span> xtzl <span class=\"keyword\">FOREIGN</span> KEY (hcode) <span class=\"keyword\">REFERENCES</span> heal(id)</span><br><span class=\"line\"><span class=\"keyword\">ON</span> <span class=\"keyword\">UPDATE</span> CASCADE</span><br><span class=\"line\">   <span class=\"keyword\">ON</span> <span class=\"keyword\">DELETE</span> CASCADE);</span><br></pre></td></tr></table></figure>\n<h2 id=\"新增数据\"><a href=\"# 新增数据\" class=\"headerlink\" title=\"新增数据\"></a>新增数据</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> emp <span class=\"keyword\">VALUES</span>(<span class=\"keyword\">NULL</span>,<span class=\"string\">&#x27; 智力 2&#x27;</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> xtzl(NAME,Birthday,Sex ,Age)<span class=\"keyword\">VALUES</span>(<span class=\"string\">&#x27; 嘉嘉 &#x27;</span>,<span class=\"string\">&#x27;2002-6-06&#x27;</span>,<span class=\"string\">&#x27; 男 &#x27;</span>,<span class=\"number\">10</span>);</span><br></pre></td></tr></table></figure>\n<h1 id=\"Read- 查询\"><a href=\"#Read- 查询\" class=\"headerlink\" title=\"Read(查询)\"></a>Read(查询)</h1><h2 id=\"全查询 -amp-amp- 条件查询 -amp-amp- 去重查询\"><a href=\"# 全查询 -amp-amp- 条件查询 -amp-amp- 去重查询\" class=\"headerlink\" title=\"全查询 &amp;&amp; 条件查询 &amp;&amp; 去重查询\"></a>全查询 &amp;&amp; 条件查询 &amp;&amp; 去重查询</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> tableA;</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> tableA <span class=\"keyword\">where</span> XXX;</span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"keyword\">DISTINCT</span> NAME <span class=\"keyword\">FROM</span> xtzl;</span><br><span class=\"line\"><span class=\"comment\">-- 截取查询</span></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"keyword\">left</span>(username,<span class=\"number\">3</span>) <span class=\"keyword\">from</span> tableA;</span><br></pre></td></tr></table></figure>\n<h2 id=\"模糊查询\"><a href=\"# 模糊查询\" class=\"headerlink\" title=\"模糊查询\"></a>模糊查询</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">-- 关键词 where-like</span></span><br><span class=\"line\"> <span class=\"comment\">-- 模糊查询，查询名字是小开头的数据</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> xtzl <span class=\"keyword\">WHERE</span> NAME <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27; 小 %&#x27;</span>; </span><br><span class=\"line\"><span class=\"comment\">-- 模糊查询，查询名字是四个字的，有四个下划线</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> xtzl <span class=\"keyword\">WHERE</span> NAME <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27;____&#x27;</span>; </span><br><span class=\"line\"><span class=\"comment\">-- 模糊查询，查询名字里面包含有‘特’的数据</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> xtzl <span class=\"keyword\">WHERE</span> NAME <span class=\"keyword\">LIKE</span> <span class=\"string\">&#x27;% 特 %&#x27;</span>; </span><br></pre></td></tr></table></figure>\n<h2 id=\"排序查询\"><a href=\"# 排序查询\" class=\"headerlink\" title=\"排序查询\"></a>排序查询</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 先按照前面那个条件升序，如果前面那个条件的值一样的时候，才会按照后面的条件排序</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> xtzl  <span class=\"keyword\">ORDER</span> <span class=\"keyword\">BY</span> Age <span class=\"keyword\">ASC</span> ,score <span class=\"keyword\">DESC</span>; </span><br></pre></td></tr></table></figure>\n<h2 id=\"聚合查询\"><a href=\"# 聚合查询\" class=\"headerlink\" title=\"聚合查询\"></a>聚合查询</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   <span class=\"comment\">-- count 计算个数  </span></span><br><span class=\"line\">   <span class=\"comment\">-- max 计算最大值</span></span><br><span class=\"line\">   <span class=\"comment\">-- min 计算最小值</span></span><br><span class=\"line\">   <span class=\"comment\">-- sum 计算和</span></span><br><span class=\"line\">   <span class=\"comment\">-- avg 计算平均值</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"built_in\">COUNT</span>(NAME) <span class=\"keyword\">FROM</span> xtzl; <span class=\"comment\">-- 单行单列的元素个数</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"分组查询\"><a href=\"# 分组查询\" class=\"headerlink\" title=\"分组查询\"></a>分组查询 </h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 查询的字段必须在 group by 后或者聚合函数内</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> sex <span class=\"keyword\">FROM</span> xtzl <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> sex;  </span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> sex,<span class=\"built_in\">AVG</span>(score) <span class=\"keyword\">FROM</span> xtzl <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> sex; </span><br><span class=\"line\"><span class=\"comment\">-- AVG() 用于对指定的列或表达式求平均值</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> sex,<span class=\"built_in\">AVG</span>(score) <span class=\"keyword\">FROM</span> xtzl <span class=\"keyword\">WHERE</span> score<span class=\"operator\">&gt;=</span><span class=\"number\">100</span> <span class=\"keyword\">GROUP</span> <span class=\"keyword\">BY</span> sex; </span><br></pre></td></tr></table></figure>\n<h2 id=\"分页查询\"><a href=\"# 分页查询\" class=\"headerlink\" title=\"分页查询\"></a>分页查询</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 0 表示第一个数据的索引值，3 表示索引从 0 开始，依次读取 3 个数据</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> xtzl LIMIT <span class=\"number\">0</span>,<span class=\"number\">3</span>; </span><br><span class=\"line\"><span class=\"comment\">-- 第二页了，上面那个是第一页  (2-1)*3 = 3 = 当前页面开始时的索引</span></span><br><span class=\"line\"><span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> xtzl LIMIT <span class=\"number\">3</span>,<span class=\"number\">4</span>; </span><br></pre></td></tr></table></figure>\n\n<h1 id=\"Update- 修改\"><a href=\"#Update- 修改\" class=\"headerlink\" title=\"Update(修改)\"></a>Update(修改)</h1><h2 id=\"修改表结构\"><a href=\"# 修改表结构\" class=\"headerlink\" title=\"修改表结构\"></a>修改表结构 </h2><h3 id=\"修改列的数据类型\"><a href=\"# 修改列的数据类型\" class=\"headerlink\" title=\"修改列的数据类型\"></a> 修改列的数据类型</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> stu modify name <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>);</span><br><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> stu MODIFY NAME <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>) <span class=\"keyword\">UNIQUE</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"修改列名或数据类型\"><a href=\"# 修改列名或数据类型\" class=\"headerlink\" title=\"修改列名或数据类型\"></a>修改列名或数据类型</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> xtzl change Age Myage <span class=\"type\">INT</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除某列\"><a href=\"# 删除某列\" class=\"headerlink\" title=\"删除某列\"></a>删除某列</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> xtzl <span class=\"keyword\">DROP</span> KKK;</span><br></pre></td></tr></table></figure>\n<h3 id=\"添加某列\"><a href=\"# 添加某列\" class=\"headerlink\" title=\"添加某列\"></a>添加某列</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> xtzl <span class=\"keyword\">ADD</span>  SEX <span class=\"type\">VARCHAR</span>(<span class=\"number\">1</span>);</span><br></pre></td></tr></table></figure>\n<h2 id=\"修改数据记录\"><a href=\"# 修改数据记录\" class=\"headerlink\" title=\"修改数据记录\"></a>修改数据记录</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">UPDATE</span> xtzl <span class=\"keyword\">SET</span> NAME<span class=\"operator\">=</span><span class=\"string\">&#x27; 小特特 &#x27;</span> <span class=\"keyword\">WHERE</span> Age<span class=\"operator\">=</span><span class=\"number\">10</span>;</span><br></pre></td></tr></table></figure>\n<h2 id=\"修改数据库\"><a href=\"# 修改数据库\" class=\"headerlink\" title=\"修改数据库\"></a>修改数据库 </h2><h3 id=\"修改基本配置\"><a href=\"# 修改基本配置\" class=\"headerlink\" title=\"修改基本配置\"></a> 修改基本配置</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> DATABASE</span><br><span class=\"line\">MODIFY FILE&#123;</span><br><span class=\"line\">\tNAME<span class=\"operator\">=</span>Teacher_Log,</span><br><span class=\"line\">\tFILENAME<span class=\"operator\">=</span><span class=\"string\">&#x27;E:\\SQL Server\\DB_Practice\\Test01\\Teacher.ldf&#x27;</span>,</span><br><span class=\"line\">\tSIZE<span class=\"operator\">=</span><span class=\"number\">10</span>,</span><br><span class=\"line\">\tMAXSIZE<span class=\"operator\">=</span><span class=\"number\">500</span>,</span><br><span class=\"line\">\tFILEGROWTH<span class=\"operator\">=</span><span class=\"number\">10</span>&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"修改数据库用户的密码\"><a href=\"# 修改数据库用户的密码\" class=\"headerlink\" title=\"修改数据库用户的密码\"></a>修改数据库用户的密码</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">UPDATE</span> <span class=\"keyword\">USER</span> <span class=\"keyword\">SET</span> PASSWORD <span class=\"operator\">=</span> PASSWORD (<span class=\"string\">&#x27;newpassword&#x27;</span>) <span class=\"keyword\">WHERE</span> <span class=\"keyword\">USER</span> <span class=\"operator\">=</span> <span class=\"string\">&#x27;wendy&#x27;</span>;  </span><br><span class=\"line\"><span class=\"comment\">-- 格式： </span></span><br><span class=\"line\"><span class=\"keyword\">set</span> password <span class=\"keyword\">for</span> 用户名<span class=\"variable\">@localhost</span> <span class=\"operator\">=</span> password(‘新密码’);  </span><br><span class=\"line\"><span class=\"comment\">-- 例子：</span></span><br><span class=\"line\"><span class=\"keyword\">set</span> password <span class=\"keyword\">for</span> root<span class=\"variable\">@localhost</span> <span class=\"operator\">=</span> password(‘<span class=\"number\">123</span>’);</span><br></pre></td></tr></table></figure>\n<h1 id=\"Delete- 删除\"><a href=\"#Delete- 删除\" class=\"headerlink\" title=\"Delete(删除)\"></a>Delete(删除)</h1><h2 id=\"删除表和数据库\"><a href=\"# 删除表和数据库\" class=\"headerlink\" title=\"删除表和数据库\"></a>删除表和数据库</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">DROP</span> DATABASE xxx;</span><br><span class=\"line\"><span class=\"keyword\">DROP</span> <span class=\"keyword\">TABLE</span> xxx;</span><br><span class=\"line\"><span class=\"comment\">-- 删除表后重构一个数据结构相同，无数据的表</span></span><br><span class=\"line\"><span class=\"keyword\">TRUNCATE</span> <span class=\"keyword\">TABLE</span> xtzl;</span><br></pre></td></tr></table></figure>\n<h2 id=\"删除表中数据\"><a href=\"# 删除表中数据\" class=\"headerlink\" title=\"删除表中数据\"></a>删除表中数据</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">DELETE</span> <span class=\"keyword\">FROM</span> table_name <span class=\"keyword\">WHERE</span> xxxx;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"Constraint 的 CRUD\"><a href=\"#Constraint 的 CRUD\" class=\"headerlink\" title=\"Constraint 的 CRUD\"></a>Constraint 的 CRUD</h1><h2 id=\"新增\"><a href=\"# 新增\" class=\"headerlink\" title=\"新增\"></a>新增 </h2><h3 id=\"添加主键及其自增\"><a href=\"# 添加主键及其自增\" class=\"headerlink\" title=\"添加主键及其自增\"></a> 添加主键及其自增</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> stu MODIFY id <span class=\"type\">INT</span> <span class=\"keyword\">PRIMARY</span> KEY AUTO_INCREMENT;</span><br></pre></td></tr></table></figure>\n<h3 id=\"添加外键\"><a href=\"# 添加外键\" class=\"headerlink\" title=\"添加外键\"></a>添加外键</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ALTER</span> <span class=\"keyword\">TABLE</span> workers <span class=\"keyword\">ADD</span> <span class=\"keyword\">CONSTRAINT</span> foreignkeyName <span class=\"keyword\">FOREIGN</span> KEY (de_id) <span class=\"keyword\">REFERENCES</span> department(id);</span><br></pre></td></tr></table></figure>\n<h3 id=\"添加某列的约束\"><a href=\"# 添加某列的约束\" class=\"headerlink\" title=\"添加某列的约束\"></a>添加某列的约束</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 添加 WeiXin 唯一值约束 </span></span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> Student <span class=\"keyword\">add</span> <span class=\"keyword\">constraint</span> WeixinUnique <span class=\"keyword\">unique</span>(WeiXin);</span><br><span class=\"line\"><span class=\"comment\">-- 添加 check 约束 </span></span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> Student <span class=\"keyword\">add</span> <span class=\"keyword\">constraint</span> mycheckN <span class=\"keyword\">check</span>(Gender <span class=\"operator\">=</span> <span class=\"string\">&#x27; 男 &#x27;</span> <span class=\"keyword\">or</span> Gender <span class=\"operator\">=</span> <span class=\"string\">&#x27; 女 &#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"删除\"><a href=\"# 删除\" class=\"headerlink\" title=\"删除\"></a>删除 </h2><h3 id=\"删除某列的约束\"><a href=\"# 删除某列的约束\" class=\"headerlink\" title=\"删除某列的约束\"></a> 删除某列的约束</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 删除表 student 的唯一值约束 </span></span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> Student <span class=\"keyword\">drop</span> WeixinUnique;</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除外键\"><a href=\"# 删除外键\" class=\"headerlink\" title=\"删除外键\"></a>删除外键</h3><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 删除外键 </span></span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> Gooos <span class=\"keyword\">drop</span> <span class=\"keyword\">foreign</span> key outsidecode</span><br></pre></td></tr></table></figure>\n<h2 id=\"修改\"><a href=\"# 修改\" class=\"headerlink\" title=\"修改\"></a>修改</h2><blockquote>\n<p>修改其实和新增大同小异，只是要注意 constraint 的对应名称不能错即可</p>\n</blockquote>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 在表 SaleBill 上增加数量大于 0 的约束。</span></span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> SaleBill <span class=\"keyword\">add</span> <span class=\"keyword\">constraint</span> numlimit <span class=\"keyword\">check</span>(Number <span class=\"operator\">&gt;</span> <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"comment\">-- 将表 SaleBill 上数量的约束修改为 0~100。</span></span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> SaleBill <span class=\"keyword\">add</span> <span class=\"keyword\">constraint</span> changedlimit <span class=\"keyword\">check</span>(Number <span class=\"operator\">&gt;=</span><span class=\"number\">0</span> <span class=\"keyword\">and</span> Number <span class=\"operator\">&lt;=</span><span class=\"number\">100</span>)</span><br></pre></td></tr></table></figure>\n","url":"/posts/48277/","min2read":3,"word4post":868,"prev_post":{"title":"WebS- 接单平台","url":"/posts/13929/"},"next_post":{"title":"MySQL-advanced","url":"/posts/55275/"},"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"Create- 新建\" href = \"#\"><span class=\"toc-number\">1.</span> <span class=\"toc-text\">Create(新建)</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"创建表的时候添加限制\" href = \"#\"><span class=\"toc-number\">1.1.</span> <span class=\"toc-text\">创建表的时候添加限制</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"新增数据\" href = \"#\"><span class=\"toc-number\">1.2.</span> <span class=\"toc-text\">新增数据</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"Read- 查询\" href = \"#\"><span class=\"toc-number\">2.</span> <span class=\"toc-text\">Read(查询)</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"全查询 -amp-amp- 条件查询 -amp-amp- 去重查询\" href = \"#\"><span class=\"toc-number\">2.1.</span> <span class=\"toc-text\">全查询 &amp;&amp; 条件查询 &amp;&amp; 去重查询</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"模糊查询\" href = \"#\"><span class=\"toc-number\">2.2.</span> <span class=\"toc-text\">模糊查询</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"排序查询\" href = \"#\"><span class=\"toc-number\">2.3.</span> <span class=\"toc-text\">排序查询</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"聚合查询\" href = \"#\"><span class=\"toc-number\">2.4.</span> <span class=\"toc-text\">聚合查询</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"分组查询\" href = \"#\"><span class=\"toc-number\">2.5.</span> <span class=\"toc-text\">分组查询 </span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"分页查询\" href = \"#\"><span class=\"toc-number\">2.6.</span> <span class=\"toc-text\">分页查询</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"Update- 修改\" href = \"#\"><span class=\"toc-number\">3.</span> <span class=\"toc-text\">Update(修改)</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"修改表结构\" href = \"#\"><span class=\"toc-number\">3.1.</span> <span class=\"toc-text\">修改表结构 </span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"修改列的数据类型\" href = \"#\"><span class=\"toc-number\">3.1.1.</span> <span class=\"toc-text\"> 修改列的数据类型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"修改列名或数据类型\" href = \"#\"><span class=\"toc-number\">3.1.2.</span> <span class=\"toc-text\">修改列名或数据类型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"删除某列\" href = \"#\"><span class=\"toc-number\">3.1.3.</span> <span class=\"toc-text\">删除某列</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"添加某列\" href = \"#\"><span class=\"toc-number\">3.1.4.</span> <span class=\"toc-text\">添加某列</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"修改数据记录\" href = \"#\"><span class=\"toc-number\">3.2.</span> <span class=\"toc-text\">修改数据记录</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"修改数据库\" href = \"#\"><span class=\"toc-number\">3.3.</span> <span class=\"toc-text\">修改数据库 </span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"修改基本配置\" href = \"#\"><span class=\"toc-number\">3.3.1.</span> <span class=\"toc-text\"> 修改基本配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"修改数据库用户的密码\" href = \"#\"><span class=\"toc-number\">3.3.2.</span> <span class=\"toc-text\">修改数据库用户的密码</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"Delete- 删除\" href = \"#\"><span class=\"toc-number\">4.</span> <span class=\"toc-text\">Delete(删除)</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"删除表和数据库\" href = \"#\"><span class=\"toc-number\">4.1.</span> <span class=\"toc-text\">删除表和数据库</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"删除表中数据\" href = \"#\"><span class=\"toc-number\">4.2.</span> <span class=\"toc-text\">删除表中数据</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"Constraint 的 CRUD\" href = \"#\"><span class=\"toc-number\">5.</span> <span class=\"toc-text\">Constraint 的 CRUD</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"新增\" href = \"#\"><span class=\"toc-number\">5.1.</span> <span class=\"toc-text\">新增 </span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"添加主键及其自增\" href = \"#\"><span class=\"toc-number\">5.1.1.</span> <span class=\"toc-text\"> 添加主键及其自增</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"添加外键\" href = \"#\"><span class=\"toc-number\">5.1.2.</span> <span class=\"toc-text\">添加外键</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"添加某列的约束\" href = \"#\"><span class=\"toc-number\">5.1.3.</span> <span class=\"toc-text\">添加某列的约束</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"删除\" href = \"#\"><span class=\"toc-number\">5.2.</span> <span class=\"toc-text\">删除 </span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"删除某列的约束\" href = \"#\"><span class=\"toc-number\">5.2.1.</span> <span class=\"toc-text\"> 删除某列的约束</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"删除外键\" href = \"#\"><span class=\"toc-number\">5.2.2.</span> <span class=\"toc-text\">删除外键</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"修改\" href = \"#\"><span class=\"toc-number\">5.3.</span> <span class=\"toc-text\">修改</span></a></li></ol></li></ol>","categories":[{"name":"DataBase","path":"api/categories/DataBase.json","url":"/categories/DataBase/"}],"tags":[]}