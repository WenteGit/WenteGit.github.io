{"title":"RabbitMQ-Install","slug":"MQ-RabbitMQ-Install","date":"2023-01-25","updated":"2023-02-23","comments":true,"path":"api/posts/59081.json","excerpt":"<blockquote><p> 对 RabbitMQ 的安装总结与归纳 </p></blockquote>","cover":null,"covers":null,"content":"<blockquote>\n<p>对 RabbitMQ 的安装总结与归纳</p>\n</blockquote>\n<span id=\"more\"></span>\n<h2 id=\"1- 安装依赖环境\"><a href=\"#1- 安装依赖环境\" class=\"headerlink\" title=\"1. 安装依赖环境\"></a>1. 安装依赖环境 </h2><p> 在线安装依赖环境：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install build-essential openssl openssl-devel unixODBC unixODBC-devel make gcc gcc-c++ kernel-devel m4 ncurses-devel tk tc xz</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"2- 安装 Erlang\"><a href=\"#2- 安装 Erlang\" class=\"headerlink\" title=\"2. 安装 Erlang\"></a>2. 安装 Erlang</h2><p>上传<br>erlang-18.3-1.el7.centos.x86_64.rpm<br>socat-1.7.3.2-5.el7.lux.x86_64.rpm<br>rabbitmq-server-3.6.5-1.noarch.rpm</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安装</span></span><br><span class=\"line\">rpm -ivh erlang-18.3-1.el7.centos.x86_64.rpm</span><br><span class=\"line\">rpm -ivh socat-1.7.3.2-5.el7.lux.x86_64.rpm</span><br><span class=\"line\">rpm -ivh rabbitmq-server-3.6.5-1.noarch.rpm</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"4- 开启管理界面及配置\"><a href=\"#4- 开启管理界面及配置\" class=\"headerlink\" title=\"4. 开启管理界面及配置\"></a>4. 开启管理界面及配置</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 开启管理界面</span></span><br><span class=\"line\">rabbitmq-plugins <span class=\"built_in\">enable</span> rabbitmq_management</span><br><span class=\"line\"><span class=\"comment\"># 修改默认配置信息</span></span><br><span class=\"line\">vim /usr/lib/rabbitmq/lib/rabbitmq_server-3.6.5/ebin/rabbit.app </span><br><span class=\"line\"><span class=\"comment\"># 比如修改密码、配置等等，例如：loopback_users 中的 &lt;&lt;&quot;guest&quot;&gt;&gt;, 只保留 guest</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"5- 启动\"><a href=\"#5- 启动\" class=\"headerlink\" title=\"5. 启动\"></a>5. 启动</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service rabbitmq-server start <span class=\"comment\"># 启动服务</span></span><br><span class=\"line\">service rabbitmq-server stop <span class=\"comment\"># 停止服务</span></span><br><span class=\"line\">service rabbitmq-server restart <span class=\"comment\"># 重启服务</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>设置配置文件<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/share/doc/rabbitmq-server-3.6.5/</span><br><span class=\"line\"></span><br><span class=\"line\">cp rabbitmq.config.example /etc/rabbitmq/rabbitmq.config</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"6- 配置虚拟主机及用户\"><a href=\"#6- 配置虚拟主机及用户\" class=\"headerlink\" title=\"6. 配置虚拟主机及用户\"></a>6. 配置虚拟主机及用户</h2><blockquote>\n<p>管理台 URL：<a href=\"http://120.48.77.232:15672/\">http://120.48.77.232:15672/</a></p>\n</blockquote>\n<h3 id=\"6-1- 用户角色\"><a href=\"#6-1- 用户角色\" class=\"headerlink\" title=\"6.1. 用户角色\"></a>6.1. 用户角色 </h3><p>RabbitMQ 在安装好后，可以访问<code>http://ip 地址:15672</code><br> 其自带了 guest/guest 的用户名和密码。默认账号和默认密码都是 guest</p>\n<p><strong>角色说明</strong>：</p>\n<p>1、 超级管理员(administrator)</p>\n<p>可登陆管理控制台，可查看所有的信息，并且可以对用户，策略 (policy) 进行操作。</p>\n<p>2、 监控者(monitoring)</p>\n<p>可登陆管理控制台，同时可以查看 rabbitmq 节点的相关信息(进程数，内存使用情况，磁盘使用情况等)</p>\n<p>3、 策略制定者(policymaker)</p>\n<p>可登陆管理控制台, 同时可以对 policy 进行管理。但无法查看节点的相关信息(上图红框标识的部分)。</p>\n<p>4、 普通管理者(management)</p>\n<p>仅可登陆管理控制台，无法看到节点信息，也无法对策略进行管理。</p>\n<p>5、 其他</p>\n<p>无法登陆管理控制台，通常就是普通的生产者和消费者。</p>\n<h3 id=\"6-2-Virtual-Hosts 配置\"><a href=\"#6-2-Virtual-Hosts 配置\" class=\"headerlink\" title=\"6.2. Virtual Hosts 配置\"></a>6.2. Virtual Hosts 配置 </h3><p> 像 mysql 拥有数据库的概念并且可以指定用户对库和表等操作的权限。RabbitMQ 也有类似的权限管理；在 RabbitMQ 中可以虚拟消息服务器 Virtual Host，每个 Virtual Hosts 相当于一个相对独立的 RabbitMQ 服务器，每个 VirtualHost 之间是相互隔离的。exchange、queue、message 不能互通。 相当于 mysql 的 db。Virtual Name 一般以 / 开头。</p>\n","url":"/posts/59081/","min2read":2,"word4post":589,"prev_post":{"title":"RabbitMQ","url":"/posts/15185/"},"next_post":{"title":"AC-websites","url":"/posts/51499/"},"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"1- 安装依赖环境\" href = \"#\"><span class=\"toc-number\">1.</span> <span class=\"toc-text\">1. 安装依赖环境 </span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"2- 安装 Erlang\" href = \"#\"><span class=\"toc-number\">2.</span> <span class=\"toc-text\">2. 安装 Erlang</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"4- 开启管理界面及配置\" href = \"#\"><span class=\"toc-number\">3.</span> <span class=\"toc-text\">4. 开启管理界面及配置</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"5- 启动\" href = \"#\"><span class=\"toc-number\">4.</span> <span class=\"toc-text\">5. 启动</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"6- 配置虚拟主机及用户\" href = \"#\"><span class=\"toc-number\">5.</span> <span class=\"toc-text\">6. 配置虚拟主机及用户</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"6-1- 用户角色\" href = \"#\"><span class=\"toc-number\">5.1.</span> <span class=\"toc-text\">6.1. 用户角色 </span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" data-id=\"6-2-Virtual-Hosts 配置\" href = \"#\"><span class=\"toc-number\">5.2.</span> <span class=\"toc-text\">6.2. Virtual Hosts 配置 </span></a></li></ol></li></ol>","categories":[{"name":"MessageQueue","path":"api/categories/MessageQueue.json","url":"/categories/MessageQueue/"}],"tags":[]}