{"title":"Seata","slug":"Cloud_Seata","date":"2022-07-31","updated":"2022-08-03","comments":true,"path":"api/posts/63021.json","excerpt":"<blockquote><p> 介绍了分布式中关于 Seata 的知识 </p></blockquote>","cover":"http://xtzl.wentexl.cn/Seata.png","covers":["http://xtzl.wentexl.cn/Seata.png","http://xtzl.wentexl.cn/%E5%AF%B9%E6%AF%94.png"],"content":"<blockquote>\n<p>介绍了分布式中关于 Seata 的知识</p>\n</blockquote>\n<span id=\"more\"></span>\n<h1 id=\"Seata 重点\"><a href=\"#Seata 重点\" class=\"headerlink\" title=\"Seata 重点\"></a>Seata 重点</h1><blockquote>\n<ul>\n<li>必须先启动 Nacos 后启动 Seata</li>\n</ul>\n</blockquote>\n<h1 id=\"Seata 介绍\"><a href=\"#Seata 介绍\" class=\"headerlink\" title=\"Seata 介绍\"></a>Seata 介绍</h1><blockquote>\n<ul>\n<li>1 + 3 的组件模型</li>\n<li>分布式事务处理过程的 -ID+ 三组件模型</li>\n<li>Transaction ID XID : 全局唯一的事务 ID</li>\n</ul>\n</blockquote>\n<h1 id=\"Seata 术语 - 三组件\"><a href=\"#Seata 术语 - 三组件\" class=\"headerlink\" title=\"Seata 术语(三组件)\"></a>Seata 术语(三组件)</h1><h2 id=\"TC-Transaction-Coordinator- 事务协调者\"><a href=\"#TC-Transaction-Coordinator- 事务协调者\" class=\"headerlink\" title=\"TC (Transaction Coordinator) - 事务协调者\"></a>TC (Transaction Coordinator) - 事务协调者</h2><blockquote>\n<p>维护全局和分支事务的状态，驱动全局事务提交或回滚。</p>\n</blockquote>\n<h2 id=\"TM-Transaction-Manager- 事务管理器\"><a href=\"#TM-Transaction-Manager- 事务管理器\" class=\"headerlink\" title=\"TM (Transaction Manager) - 事务管理器\"></a>TM (Transaction Manager) - 事务管理器</h2><blockquote>\n<p>定义全局事务的范围：开始全局事务、提交或回滚全局事务。</p>\n</blockquote>\n<h2 id=\"RM-Resource-Manager- 资源管理器\"><a href=\"#RM-Resource-Manager- 资源管理器\" class=\"headerlink\" title=\"RM (Resource Manager) - 资源管理器\"></a>RM (Resource Manager) - 资源管理器</h2><blockquote>\n<p>管理分支事务处理的资源，与 TC 交谈以注册分支事务和报告分支事务的状态，并驱动分支事务提交或回 <br> 滚。</p>\n</blockquote>\n<p><img src=\"http://xtzl.wentexl.cn/Seata.png\" alt=\"seata\"></p>\n<blockquote>\n<hr>\n</blockquote>\n<h1 id=\"BASE 理论\"><a href=\"#BASE 理论\" class=\"headerlink\" title=\"BASE 理论\"></a>BASE 理论</h1><blockquote>\n<p>BASE 理论是对 CAP 的一种解决思路，包含三个思想：</p>\n<hr>\n<ul>\n<li>Basically Available （基本可用）：分布式系统在出现故障时，允许损失部分可用性，即保证核心可用。</li>\n<li>Soft State（软状态）：在一定时间内，允许出现中间状态，比如临时的不一致状态。</li>\n<li>Eventually Consistent（最终一致性）：虽然无法保证强一致性，但是在软状态结束后，最终达到数据一致。</li>\n</ul>\n<hr>\n<p>而分布式事务最大的问题是各个子事务的一致性问题，因此可以借鉴 CAP 定理和 BASE 理论：</p>\n<hr>\n<ul>\n<li>AP 模式：各子事务分别执行和提交，允许出现结果不一致，然后采用弥补措施恢复数据即可，实现最终一致。  </li>\n<li>CP 模式：各个子事务执行后互相等待，同时提交，同时回滚，达成强一致。但事务等待过程中，处于弱可用状态</li>\n</ul>\n</blockquote>\n<h1 id=\"分布式事务解决方案\"><a href=\"# 分布式事务解决方案\" class=\"headerlink\" title=\"分布式事务解决方案\"></a>分布式事务解决方案</h1><blockquote>\n<p>Seata 提供了四种不同的分布式事务解决方案：</p>\n<hr>\n<ul>\n<li>XA 模式：强一致性分阶段事务模式，牺牲了一定的可用性，无业务侵入</li>\n<li>TCC 模式：最终一致的分阶段事务模式，有业务侵入</li>\n<li>AT 模式：最终一致的分阶段事务模式，无业务侵入，也是 Seata 的默认模式</li>\n<li>SAGA 模式：长事务模式，有业务侵入  </li>\n</ul>\n</blockquote>\n<p><strong>对比</strong><br><img src=\"http://xtzl.wentexl.cn/%E5%AF%B9%E6%AF%94.png\" alt=\"compare\"></p>\n","url":"/posts/63021/","min2read":1,"word4post":542,"prev_post":{"title":"Transaction","url":"/posts/43132/"},"next_post":{"title":"Cloud-Alibaba-Sentinel","url":"/posts/60668/"},"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"Seata 重点\" href = \"#\"><span class=\"toc-number\">1.</span> <span class=\"toc-text\">Seata 重点</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"Seata 介绍\" href = \"#\"><span class=\"toc-number\">2.</span> <span class=\"toc-text\">Seata 介绍</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"Seata 术语 - 三组件\" href = \"#\"><span class=\"toc-number\">3.</span> <span class=\"toc-text\">Seata 术语(三组件)</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"TC-Transaction-Coordinator- 事务协调者\" href = \"#\"><span class=\"toc-number\">3.1.</span> <span class=\"toc-text\">TC (Transaction Coordinator) - 事务协调者</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"TM-Transaction-Manager- 事务管理器\" href = \"#\"><span class=\"toc-number\">3.2.</span> <span class=\"toc-text\">TM (Transaction Manager) - 事务管理器</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" data-id=\"RM-Resource-Manager- 资源管理器\" href = \"#\"><span class=\"toc-number\">3.3.</span> <span class=\"toc-text\">RM (Resource Manager) - 资源管理器</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"BASE 理论\" href = \"#\"><span class=\"toc-number\">4.</span> <span class=\"toc-text\">BASE 理论</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\"分布式事务解决方案\" href = \"#\"><span class=\"toc-number\">5.</span> <span class=\"toc-text\">分布式事务解决方案</span></a></li></ol>","categories":[{"name":"distributed","path":"api/categories/distributed.json","url":"/categories/distributed/"}],"tags":[{"name":"Seata","path":"api/tags/Seata.json","url":"/tags/Seata/"}]}