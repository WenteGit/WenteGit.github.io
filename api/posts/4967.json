{"title":"Sqlserver_TSQL","slug":"sql-TSQL","date":"2022-10-30","updated":"2023-02-25","comments":true,"path":"api/posts/4967.json","excerpt":"<blockquote><p>Transction-Sql 的积累，主要是与事务，流程相关的东西 </p></blockquote>","cover":null,"covers":null,"content":"<blockquote>\n<p>Transction-Sql 的积累，主要是与事务，流程相关的东西 </p>\n</blockquote>\n<span id=\"more\"></span>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">-- 游标的使用场景:</span></span><br><span class=\"line\"><span class=\"comment\">-- 数据表有几千万数据，需要就其中约百万数据进行更新，不能锁表。因此采用游标进行更新 </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 1. 游标查询 </span></span><br><span class=\"line\"><span class=\"comment\">-- 建立 scroll 滚动游标 </span></span><br><span class=\"line\"><span class=\"comment\">-- 定义游标,scroll 是参数，cursor 是固定的定义格式 </span></span><br><span class=\"line\"><span class=\"keyword\">declare</span> cur <span class=\"keyword\">scroll</span> <span class=\"keyword\">cursor</span> <span class=\"keyword\">for</span></span><br><span class=\"line\">\t<span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> goods <span class=\"keyword\">join</span> category <span class=\"keyword\">on</span> goods.categoryno <span class=\"operator\">=</span> category.categoryno <span class=\"keyword\">where</span> category.categoryname <span class=\"operator\">=</span> <span class=\"string\">&#x27; 洗发水 &#x27;</span></span><br><span class=\"line\"><span class=\"comment\">-- 打开游标 </span></span><br><span class=\"line\"><span class=\"keyword\">open</span> cur</span><br><span class=\"line\"><span class=\"comment\">-- 游标指向上面查询出来的表的第一条数据 </span></span><br><span class=\"line\"><span class=\"keyword\">fetch</span> <span class=\"keyword\">first</span> <span class=\"keyword\">from</span> cur </span><br><span class=\"line\"><span class=\"comment\">-- 指向最后一条 </span></span><br><span class=\"line\"><span class=\"keyword\">fetch</span> <span class=\"keyword\">last</span> <span class=\"keyword\">from</span> cur</span><br><span class=\"line\"><span class=\"comment\">-- 从上往下数，第十条数据（绝对的）</span></span><br><span class=\"line\"><span class=\"keyword\">fetch</span> absolute <span class=\"number\">10</span> <span class=\"keyword\">from</span> cur</span><br><span class=\"line\"><span class=\"comment\">-- 从当前游标所在的位置往后数的第五个数据 （相对于当前游标所在位置，是相对的）</span></span><br><span class=\"line\"><span class=\"keyword\">fetch</span> relative <span class=\"number\">5</span> <span class=\"keyword\">from</span> cur</span><br><span class=\"line\"><span class=\"comment\">-- 固定格式，关闭游标 </span></span><br><span class=\"line\"><span class=\"keyword\">close</span> cur</span><br><span class=\"line\"><span class=\"keyword\">deallocate</span> cur</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 2. 游标更新 </span></span><br><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"variable\">@Id</span> <span class=\"type\">char</span>(<span class=\"number\">6</span>); <span class=\"comment\">-- 声明临时变量 </span></span><br><span class=\"line\"><span class=\"comment\">-- 声明更新游标 </span></span><br><span class=\"line\"><span class=\"keyword\">declare</span> cur_up <span class=\"keyword\">scroll</span> <span class=\"keyword\">cursor</span> <span class=\"keyword\">for</span> </span><br><span class=\"line\">\t(<span class=\"keyword\">select</span> goodsno <span class=\"keyword\">from</span> goods <span class=\"keyword\">join</span> category <span class=\"keyword\">on</span> goods.categoryno <span class=\"operator\">=</span> category.categoryno <span class=\"keyword\">where</span> category.categoryname <span class=\"operator\">=</span> <span class=\"string\">&#x27; 咖啡 &#x27;</span>) <span class=\"keyword\">for</span> <span class=\"keyword\">update</span> <span class=\"keyword\">of</span> saleprice;</span><br><span class=\"line\"><span class=\"keyword\">open</span> cur_up;</span><br><span class=\"line\"><span class=\"keyword\">fetch</span> next <span class=\"keyword\">from</span> cur_up</span><br><span class=\"line\"><span class=\"keyword\">into</span> <span class=\"variable\">@Id</span>;</span><br><span class=\"line\">while @<span class=\"variable\">@FETCH</span>_STATUS <span class=\"operator\">=</span> <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"keyword\">begin</span></span><br><span class=\"line\">\t<span class=\"keyword\">update</span> goods <span class=\"keyword\">set</span> saleprice <span class=\"operator\">=</span> saleprice <span class=\"operator\">*</span><span class=\"number\">0.9</span> <span class=\"keyword\">where</span> goods.goodsno <span class=\"operator\">=</span> <span class=\"variable\">@Id</span></span><br><span class=\"line\">\t<span class=\"comment\">-- 切换 </span></span><br><span class=\"line\">\t<span class=\"keyword\">fetch</span> next <span class=\"keyword\">from</span> cur_up</span><br><span class=\"line\">\t<span class=\"keyword\">into</span> <span class=\"variable\">@Id</span></span><br><span class=\"line\"><span class=\"keyword\">end</span>;</span><br><span class=\"line\"><span class=\"keyword\">close</span> cur_up</span><br><span class=\"line\"><span class=\"keyword\">deallocate</span> cur_up</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 触发器的使用场景：当需要删除与多表之间相连的数据，但又不想使用级联的时候 </span></span><br><span class=\"line\"><span class=\"comment\">-- 由系统调用，我们也需要表明调用的实际和规则 </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 3. 触发器实现商品的购买 </span></span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">trigger</span> sale_trigger</span><br><span class=\"line\"><span class=\"keyword\">on</span>\tsalebill</span><br><span class=\"line\">after <span class=\"keyword\">insert</span> <span class=\"keyword\">as</span></span><br><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"variable\">@changenum</span> <span class=\"type\">int</span></span><br><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"variable\">@change</span>_goodsno <span class=\"type\">char</span>(<span class=\"number\">6</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"variable\">@changenum</span> <span class=\"operator\">=</span> number <span class=\"keyword\">from</span> inserted </span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"variable\">@change</span>_goodsno <span class=\"operator\">=</span> goodsno <span class=\"keyword\">from</span> inserted</span><br><span class=\"line\"><span class=\"keyword\">begin</span></span><br><span class=\"line\">\t<span class=\"keyword\">update</span> goods <span class=\"keyword\">set</span> number <span class=\"operator\">=</span> (number <span class=\"operator\">-</span> <span class=\"variable\">@changenum</span>) <span class=\"keyword\">where</span> goods.goodsno <span class=\"operator\">=</span> <span class=\"variable\">@change</span>_goodsno</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 激活对应表中某个触发器, 如果要激活所有的，就把触发器名改为 all</span></span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> salebill enable <span class=\"keyword\">trigger</span> sale_trigger</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 实行购买操作，向 saleprice 表中增加购买记录 </span></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> salebill <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;gn001&#x27;</span>,<span class=\"string\">&#x27;s01&#x27;</span>,<span class=\"string\">&#x27;2022-10-25 17:18:00&#x27;</span>,<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> salebill <span class=\"keyword\">join</span>  goods <span class=\"keyword\">on</span> salebill.goodsno <span class=\"operator\">=</span> goods.goodsno</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> goods</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 4. 触发器实现删除类别信息的时候同时删除商品表中对应类别编号设置为其他类别 </span></span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">trigger</span> category_trigger </span><br><span class=\"line\"><span class=\"keyword\">on</span> category </span><br><span class=\"line\">after <span class=\"keyword\">delete</span> <span class=\"keyword\">as</span></span><br><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"variable\">@del</span>_categoryno <span class=\"type\">char</span>(<span class=\"number\">6</span>)</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"variable\">@del</span>_categoryno <span class=\"operator\">=</span> categoryno <span class=\"keyword\">from</span> deleted</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">begin</span></span><br><span class=\"line\">\t<span class=\"keyword\">update</span> goods <span class=\"keyword\">set</span> categoryno <span class=\"operator\">=</span> <span class=\"string\">&#x27;cn006&#x27;</span> <span class=\"keyword\">where</span> goods.categoryno <span class=\"operator\">=</span> <span class=\"variable\">@del</span>_categoryno</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> category enable <span class=\"keyword\">trigger</span> category_trigger</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 执行删除类别信息的操作 </span></span><br><span class=\"line\"><span class=\"keyword\">delete</span> <span class=\"keyword\">from</span> category <span class=\"keyword\">where</span> category.categoryno <span class=\"operator\">=</span> <span class=\"string\">&#x27;cn005&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> category</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> goods</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 5. 创建触发器：实现在供应商表 Supplier 中删除供货商时，同时删除该供货商所供应的商品信息及商品的销售记录。</span></span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">trigger</span> supplier_trigger</span><br><span class=\"line\"><span class=\"keyword\">on</span> supplier </span><br><span class=\"line\">instead <span class=\"keyword\">of</span> <span class=\"keyword\">delete</span> <span class=\"keyword\">as</span></span><br><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"variable\">@sup</span>_no <span class=\"type\">char</span>(<span class=\"number\">6</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 值 </span></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"variable\">@sup</span>_no <span class=\"operator\">=</span> supplierno <span class=\"keyword\">from</span> deleted</span><br><span class=\"line\"><span class=\"keyword\">begin</span></span><br><span class=\"line\">\t<span class=\"keyword\">delete</span> <span class=\"keyword\">from</span> salebill <span class=\"keyword\">where</span> salebill.goodsno <span class=\"keyword\">in</span> </span><br><span class=\"line\">\t(<span class=\"keyword\">select</span> goodsno <span class=\"keyword\">from</span> goods <span class=\"keyword\">where</span> goods.supplierno <span class=\"operator\">=</span> <span class=\"variable\">@sup</span>_no)</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">delete</span> <span class=\"keyword\">from</span> goods <span class=\"keyword\">where</span> goods.supplierno <span class=\"operator\">=</span> <span class=\"variable\">@sup</span>_no</span><br><span class=\"line\">\t<span class=\"keyword\">delete</span> <span class=\"keyword\">from</span> supplier <span class=\"keyword\">where</span> supplier.supplierno <span class=\"operator\">=</span> <span class=\"string\">&#x27;sup002&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> supplier enable <span class=\"keyword\">trigger</span> supplier_trigger</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> supplier <span class=\"keyword\">join</span> goods <span class=\"keyword\">on</span> goods.supplierno <span class=\"operator\">=</span> supplier.supplierno <span class=\"keyword\">join</span> salebill <span class=\"keyword\">on</span> salebill.goodsno <span class=\"operator\">=</span> goods.goodsno</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> salebill</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">-- 6. 创建触发器：向销售表 SaleBill 中插入一条记录时，这个触发器将更新商品表 Goods。要求：Goods 表中数量为原有数量减去销售数量 </span></span><br><span class=\"line\"><span class=\"comment\">--\t  如果库存数量小于 10，则提示“该商品数量小于 10，低于安全库存量，请及时进货”；如果原有数量不足，则提示“数量不足！”</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">trigger</span> saleprint_goods</span><br><span class=\"line\"><span class=\"keyword\">on</span> salebill</span><br><span class=\"line\">after <span class=\"keyword\">insert</span> <span class=\"keyword\">as</span> </span><br><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"variable\">@sale</span>_goodsno <span class=\"type\">char</span>(<span class=\"number\">6</span>)</span><br><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"variable\">@change</span>_number <span class=\"type\">int</span></span><br><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"variable\">@now</span>_number <span class=\"type\">int</span></span><br><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"variable\">@end</span>_number <span class=\"type\">int</span> </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"variable\">@sale</span>_goodsno <span class=\"operator\">=</span> goodsno,<span class=\"variable\">@change</span>_number <span class=\"operator\">=</span> number <span class=\"keyword\">from</span> inserted</span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"variable\">@now</span>_number <span class=\"operator\">=</span> number <span class=\"keyword\">from</span> goods <span class=\"keyword\">where</span> goodsno <span class=\"operator\">=</span> <span class=\"variable\">@sale</span>_goodsno</span><br><span class=\"line\"><span class=\"keyword\">set</span> <span class=\"variable\">@end</span>_number <span class=\"operator\">=</span> <span class=\"variable\">@now</span>_number <span class=\"operator\">-</span> <span class=\"variable\">@change</span>_number</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">begin</span></span><br><span class=\"line\">\tif(<span class=\"variable\">@end</span>_number <span class=\"operator\">&lt;</span> <span class=\"number\">10</span> <span class=\"keyword\">and</span> <span class=\"variable\">@end</span>_number<span class=\"operator\">&gt;=</span><span class=\"number\">0</span> )</span><br><span class=\"line\">\t\tprint(<span class=\"string\">&#x27; 该商品数量小于 10，低于安全库存量，请及时进货 &#x27;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">else</span> if(<span class=\"variable\">@end</span>_number <span class=\"operator\">&lt;</span> <span class=\"number\">0</span>)</span><br><span class=\"line\">\t\tprint(<span class=\"string\">&#x27; 数量不足 &#x27;</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">update</span> goods <span class=\"keyword\">set</span> number <span class=\"operator\">=</span> <span class=\"variable\">@end</span>_number <span class=\"keyword\">where</span> goods.goodsno <span class=\"operator\">=</span> <span class=\"variable\">@sale</span>_goodsno</span><br><span class=\"line\"><span class=\"keyword\">end</span></span><br><span class=\"line\"><span class=\"comment\">-- 激活触发器 </span></span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> salebill enable <span class=\"keyword\">trigger</span> saleprint_goods</span><br><span class=\"line\"><span class=\"comment\">-- 执行插入命令 </span></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> salebill <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;gn005&#x27;</span>,<span class=\"string\">&#x27;s05&#x27;</span>,<span class=\"string\">&#x27;2022-10-26 11:16:00&#x27;</span>,<span class=\"number\">1</span>)</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> salebill <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;gn005&#x27;</span>,<span class=\"string\">&#x27;s05&#x27;</span>,<span class=\"string\">&#x27;2022-10-26 11:16:00&#x27;</span>,<span class=\"number\">4</span>)</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> salebill <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;gn007&#x27;</span>,<span class=\"string\">&#x27;s05&#x27;</span>,<span class=\"string\">&#x27;2022-10-26 11:16:00&#x27;</span>,<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> salebill <span class=\"keyword\">join</span> goods <span class=\"keyword\">on</span> goods.goodsno <span class=\"operator\">=</span> salebill.goodsno</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","url":"/posts/4967/","min2read":4,"word4post":954,"prev_post":{"title":"Caffeine","url":"/posts/46615/"},"next_post":{"title":"Sqlserver_View","url":"/posts/46353/"},"toc":"","categories":[{"name":"DataBase","path":"api/categories/DataBase.json","url":"/categories/DataBase/"}],"tags":[{"name":"sqls","path":"api/tags/sqls.json","url":"/tags/sqls/"}]}